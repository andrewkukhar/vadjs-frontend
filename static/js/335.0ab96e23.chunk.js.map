{"version":3,"file":"static/js/335.0ab96e23.chunk.js","mappings":"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","sources":["components/Login.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../auth/AuthContext';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Grid from '@mui/material/Grid';\nimport Typography from '@mui/material/Typography';\nimport { Box } from '@mui/system';\nimport Container from '@mui/material/Container';\nimport { useSnackbar } from 'notistack';\nimport { CircularProgress } from '@mui/material';\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const { enqueueSnackbar } = useSnackbar();\n  const { handleLogin } = useContext(AuthContext);\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n\n  const { email, password } = formData;\n\n  const onChange = e =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const response = await fetch('https://vandjs-backend-api-b8d0ced4040e.herokuapp.com/users/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        handleLogin(data.token);\n        navigate('/home');\n        enqueueSnackbar(data.msg, { variant: 'success' });\n      } else {\n        const data = await response.json();\n        enqueueSnackbar(data.msg || 'Login failed', { variant: 'error' });\n    }    \n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n    \n  return (\n    <Container maxWidth=\"xs\" style={{ height: '100vh', overflow: 'hidden' }}>\n      <Box sx={{ mt: 8, mb: 2 }}>\n        <Typography variant=\"h4\">Login</Typography>\n      </Box>\n      <Box component=\"form\" onSubmit={e => onSubmit(e)}>\n        <Grid container spacing={2}>\n          <Grid item xs={12}>\n            <TextField\n              required\n              fullWidth\n              id=\"email\"\n              type=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              value={email}\n              onChange={e => onChange(e)}\n              error={!email}\n              helperText={!email && \"Valid email is required\"}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={password}\n              onChange={e => onChange(e)}\n              inputProps={{ minLength: 6 }}\n              error={password && password.length < 6}\n              helperText={password && password.length < 6 && \"Password should be at least 6 characters\"}\n            />\n          </Grid>\n        </Grid>\n        <Box sx={{ mt: 2 }}>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={loading}\n          >\n            {loading ? <CircularProgress size={24} color=\"inherit\" /> : 'Login'}\n          </Button>\n        </Box>\n      </Box>\n    </Container>\n  );\n};\n\nexport default Login;\n"],"names":["navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","loading","setLoading","enqueueSnackbar","useSnackbar","handleLogin","useContext","AuthContext","_useState3","email","password","_useState4","formData","setFormData","onChange","e","_objectSpread","_defineProperty","target","name","value","onSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","_data","wrap","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","ok","json","token","msg","variant","t0","console","error","finish","stop","_x","apply","arguments","_jsxs","Container","maxWidth","style","height","overflow","children","_jsx","Box","sx","mt","mb","Typography","component","Grid","container","spacing","item","xs","TextField","required","fullWidth","id","type","label","autoComplete","helperText","inputProps","minLength","length","Button","color","disabled","CircularProgress","size"],"sourceRoot":""}