"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[335],{9335:function(e,n,r){r.r(n);var t=r(4165),s=r(5861),a=r(4942),i=r(1413),o=r(9439),l=r(2791),u=r(7689),c=r(4267),d=r(9431),h=r(6151),p=r(1889),m=r(890),x=r(9276),f=r(9164),Z=r(8518),v=r(3239),g=r(184);n.default=function(){var e=(0,u.s0)(),n=(0,l.useState)(!1),r=(0,o.Z)(n,2),b=r[0],j=r[1],k=(0,Z.Ds)().enqueueSnackbar,w=(0,l.useContext)(c.V).handleLogin,y=(0,l.useState)({email:"",password:""}),C=(0,o.Z)(y,2),P=C[0],S=C[1],L=P.email,q=P.password,T=function(e){return S((0,i.Z)((0,i.Z)({},P),{},(0,a.Z)({},e.target.name,e.target.value)))},W=function(){var n=(0,s.Z)((0,t.Z)().mark((function n(r){var s,a,i;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),j(!0),n.prev=2,n.next=5,fetch("https://vandjs-backend-api-b8d0ced4040e.herokuapp.com/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});case 5:if(!(s=n.sent).ok){n.next=15;break}return n.next=9,s.json();case 9:a=n.sent,w(a.token),e("/home"),k(a.msg,{variant:"success"}),n.next=19;break;case 15:return n.next=17,s.json();case 17:i=n.sent,k(i.msg||"Login failed",{variant:"error"});case 19:n.next=24;break;case 21:n.prev=21,n.t0=n.catch(2),console.error(n.t0);case 24:return n.prev=24,j(!1),n.finish(24);case 27:case"end":return n.stop()}}),n,null,[[2,21,24,27]])})));return function(e){return n.apply(this,arguments)}}();return(0,g.jsxs)(f.Z,{maxWidth:"xs",style:{height:"100vh",overflow:"hidden"},children:[(0,g.jsx)(x.Z,{sx:{mt:8,mb:2},children:(0,g.jsx)(m.Z,{variant:"h4",children:"Login"})}),(0,g.jsxs)(x.Z,{component:"form",onSubmit:function(e){return W(e)},children:[(0,g.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,g.jsx)(p.ZP,{item:!0,xs:12,children:(0,g.jsx)(d.Z,{required:!0,fullWidth:!0,id:"email",type:"email",label:"Email Address",name:"email",autoComplete:"email",value:L,onChange:function(e){return T(e)},error:!L,helperText:!L&&"Valid email is required"})}),(0,g.jsx)(p.ZP,{item:!0,xs:12,children:(0,g.jsx)(d.Z,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:q,onChange:function(e){return T(e)},inputProps:{minLength:6},error:q&&q.length<6,helperText:q&&q.length<6&&"Password should be at least 6 characters"})})]}),(0,g.jsx)(x.Z,{sx:{mt:2},children:(0,g.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:b,children:b?(0,g.jsx)(v.Z,{size:24,color:"inherit"}):"Login"})})]})]})}}}]);
//# sourceMappingURL=335.0ab96e23.chunk.js.map