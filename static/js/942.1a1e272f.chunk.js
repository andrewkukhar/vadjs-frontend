"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[942],{3942:function(e,r,n){n.r(r);var t=n(4165),a=n(5861),s=n(4942),i=n(1413),l=n(9439),o=n(2791),u=n(7689),d=n(9431),c=n(6151),h=n(1889),p=n(890),m=n(9276),x=n(9164),f=n(9321),Z=n(3786),v=n(4925),g=n(5552),j=n(3239),b=n(184);r.default=function(){var e=(0,u.s0)(),r=(0,o.useState)(!1),n=(0,l.Z)(r,2),w=n[0],k=n[1],y=(0,g.Ds)().enqueueSnackbar,C=(0,o.useState)({username:"",email:"",password:"",role:""}),P=(0,l.Z)(C,2),S=P[0],q=P[1],W=S.username,D=S.email,T=S.password,J=S.role,U=function(e){return q((0,i.Z)((0,i.Z)({},S),{},(0,s.Z)({},e.target.name,e.target.value)))},E=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n){var a,s;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),k(!0),r.prev=2,r.next=5,fetch("".concat("https://vandjs-backend-api-b8d0ced4040e.herokuapp.com","/auth/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});case 5:return a=r.sent,r.next=8,a.json();case 8:s=r.sent,y(s.msg,{variant:a.ok?"success":"error"}),a.ok&&e("/login"),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(2),y("Error: "+r.t0.message,{variant:"error"});case 16:return r.prev=16,k(!1),r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[2,13,16,19]])})));return function(e){return r.apply(this,arguments)}}();return(0,b.jsxs)(x.Z,{maxWidth:"xs",style:{overflow:"hidden"},children:[(0,b.jsx)(m.Z,{sx:{mt:8,mb:2},children:(0,b.jsx)(p.Z,{variant:"h4",children:"Sign Up"})}),(0,b.jsxs)(m.Z,{component:"form",onSubmit:function(e){return E(e)},children:[(0,b.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,b.jsx)(h.ZP,{item:!0,xs:12,children:(0,b.jsx)(d.Z,{required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"text",value:W,onChange:function(e){return U(e)},inputProps:{minLength:3},error:W&&W.length<3,helperText:W&&W.length<3&&"Username is required and should be at least 3 characters"})}),(0,b.jsxs)(h.ZP,{item:!0,xs:12,children:[(0,b.jsx)(v.Z,{id:"role-label",children:"Role"}),(0,b.jsx)(f.Z,{required:!0,fullWidth:!0,labelId:"role-label",id:"role",name:"role",value:J,onChange:function(e){return U(e)},label:"Role",children:(0,b.jsx)(Z.Z,{value:"DJ",children:"DJ (Currently, only DJ registration is supported)"})})]}),(0,b.jsx)(h.ZP,{item:!0,xs:12,children:(0,b.jsx)(d.Z,{required:!0,fullWidth:!0,id:"email",type:"email",label:"Email Address",name:"email",autoComplete:"email",value:D,onChange:function(e){return U(e)},error:!D,helperText:!D&&"Valid email is required"})}),(0,b.jsx)(h.ZP,{item:!0,xs:12,children:(0,b.jsx)(d.Z,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:T,onChange:function(e){return U(e)},inputProps:{minLength:6},error:T&&T.length<6,helperText:T&&T.length<6&&"Password should be at least 6 characters"})})]}),(0,b.jsx)(m.Z,{sx:{mt:2},children:(0,b.jsx)(c.Z,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:w,children:w?(0,b.jsx)(j.Z,{size:24,color:"inherit"}):"Sign Up"})})]})]})}},9276:function(e,r,n){var t=(0,n(3814).Z)();r.Z=t}}]);
//# sourceMappingURL=942.1a1e272f.chunk.js.map